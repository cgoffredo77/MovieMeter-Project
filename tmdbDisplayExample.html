<div id = 'container'>
  
</div>

<script>

const apiKey = '18594e885f6876cc8b546a80669c5249';

const apiUrl = 'https://api.themoviedb.org/3';

const imageBaseUrl = 'https://image.tmdb.org/t/p/w500';

let movieArray = []; // Array to hold saved movie objects

 

//For example, you can search by genres (**code not complete)

 

const genres = [

  'Action', 'Adventure', 'Animation', 'Comedy', 'Crime', 'Documentary', 'Drama', 'History',

  'Mystery', 'Romance', 'Science Fiction', 'Thriller', 'Western'

];

fetch(`${apiUrl}/discover/movie?api_key=${apiKey}&sort_by=popularity.desc&language=en-US&page=1`)
  .then(response => response.json())
  .then(data => displayMovies(data.results.slice(0, 10)))
  .catch(err => console.error(err));

function fetchMoviesByGenre(genre) {
  fetch(`${apiUrl}/discover/movie?api_key=${apiKey}&with_genres=${getGenreId(genre)}&sort_by=popularity.desc&language=en-US&page=1`)
	.then(response => response.json())
	.then(data => displayMovies(data.results.slice(0, 10)))
	.catch(err => console.error(err));
}
 

genres.forEach(genre => {

  const button = document.createElement('button');

  button.className = 'genre-button';

  button.textContent = genre;

  button.addEventListener('click', () => fetchMoviesByGenre(genre));

  genresContainer.appendChild(button);

});

 

function fetchMoviesByGenre(genre) {

  fetch(`${apiUrl}/discover/movie?api_key=${apiKey}&with_genres=${getGenreId(genre)}&sort_by=popularity.desc&language=en-US&page=1`)

            .then(response => response.json())

            .then(data => displayMovies(data.results.slice(0, 10)))

            .catch(err => console.error(err));

}